// Dynamic config from Gradle (classpath, JDK, version)
include "#!./gradlew -q :app:printConveyorConfig"

app {
  display-name = "RunWork"
  fsname = "runwork"
  rdns-name = "io.runwork.app"
  vendor = "RunWork"
  vcs-url = "https://github.com/runwork-io/runwork-app"

  // Required: KMP doesn't expose main class to Conveyor automatically
  jvm {
    gui = "io.runwork.app.MainKt"

    // Ship the full JDK â€” don't strip modules (the app loads bundles at runtime).
    // Listed explicitly because Conveyor doesn't support `modules = all`.
    // See: https://conveyor.hydraulic.dev/21.1/configs/jvm/
    modules = [
      detect,
      java.base, java.compiler, java.datatransfer, java.desktop, java.instrument,
      java.logging, java.management, java.management.rmi, java.naming, java.net.http,
      java.prefs, java.rmi, java.scripting, java.se, java.security.jgss,
      java.security.sasl, java.smartcardio, java.sql, java.sql.rowset,
      java.transaction.xa, java.xml, java.xml.crypto,
      jdk.accessibility, jdk.charsets, jdk.crypto.cryptoki, jdk.crypto.ec,
      jdk.dynalink, jdk.editpad, jdk.httpserver, jdk.incubator.vector,
      jdk.jartool, jdk.jfr, jdk.jsobject, jdk.localedata,
      jdk.management, jdk.management.agent, jdk.management.jfr,
      jdk.naming.dns, jdk.naming.rmi, jdk.net, jdk.nio.mapmode, jdk.sctp,
      jdk.security.auth, jdk.security.jgss, jdk.unsupported, jdk.xml.dom, jdk.zipfs,
    ]
  }

  icons = "icons/icon.svg"

  site {
    base-url = "https://download.runwork.io"
  }

  machines = ["mac.amd64", "mac.aarch64", "windows.amd64", "linux.amd64.glibc"]
}

conveyor.compatibility-level = 21
