// Dynamic config from Gradle (classpath, JDK, version)
include "#!./gradlew -q :app:printConveyorConfig"

// JDK to bundle with the app (Eclipse Temurin 25, matches jvmToolchain in build.gradle.kts)
include required("/stdlib/jdk/25/eclipse.conf")

app {
  display-name = "RunWork"
  fsname = "runwork"
  rdns-name = "io.runwork.app"
  vendor = "RunWork"
  vcs-url = "https://github.com/runwork-io/runwork-app"

  // Required: KMP doesn't expose main class to Conveyor automatically
  jvm {
    gui = "io.runwork.app.MainKt"

    // Ship the full JDK â€” don't strip modules (the app loads bundles at runtime)
    modules = all
  }

  icons = "icons/icon.svg"

  site {
    base-url = "https://download.runwork.io"
  }

  machines = ["mac.amd64", "mac.aarch64", "windows.amd64", "linux.amd64.glibc"]
}

conveyor.compatibility-level = 21
